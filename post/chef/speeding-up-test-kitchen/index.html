<!DOCTYPE html>

<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Speeding Up Test Kitchen &middot; Dave&#39;s Site</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<!--[if lt IE 9]>
	<script src="http://www.dpetzel.info//js/html5.js"></script>
	<![endif]-->

    <link href="http://www.dpetzel.info//index.xml" rel="alternate" type="application/rss+xml" title="Dave&#39;s Site" />

    <link rel='stylesheet' id='twentyfourteen-lato-css'  href='//fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />

    <link rel='stylesheet' id='genericons-css' href='http://www.dpetzel.info//genericons/genericons.css' type='text/css' media='all' />
	<link rel='stylesheet' id='twentyfourteen-style-css' href='http://www.dpetzel.info//css/style.css' type='text/css' media='all' />
	
	<script type='text/javascript' src='http://www.dpetzel.info//js/jquery/jquery.js'></script>
	<script type='text/javascript' src='http://www.dpetzel.info//js/jquery/jquery-migrate.min.js'></script>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>

	<link href="/css/prism.css" rel="stylesheet" />
	<script src="/js/prism.js"></script>

</head>

<body class="home blog masthead-fixed list-view full-width grid">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="http://www.dpetzel.info//index.html" rel="home">Dave&#39;s Site</a></h1>

			<div class="search-toggle">
				<a href="#search-container" class="screen-reader-text">Search</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Primary Menu</button>
				<a class="screen-reader-text skip-link" href="#content">Skip to content</a>
				<div class="nav-menu">
					<ul>
						
						<li class="page_item">
							<a href="/about/">About Me</a>
						</li>
						
						<li class="page_item">
							<a href="/resume/">Resume</a>
						</li>
						
					</ul>
				</div>
			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
                <script type="text/javascript">
    function site_search(obj) {
    	var host = window.location.host;
        obj.q.value = "site:" + host + " " + obj.ss_q.value;
    }
</script>

<aside id="search-3" class="widget widget_search">
	<form role="search" class="search-form" action="//www.google.com/search" method="get" onSubmit="site_search(this)">

	<input name="q" type="hidden" />
	    <label>
	        <span class="screen-reader-text">Search for:</span>
	        <input name="ss_q" type="text" placeholder="Search ..." class="search-field" />
	    </label>
	    <input type="submit" value="Search" class="search-submit" />
	</form>
</aside>
			</div>
		</div>
	</header>

	<div id="main" class="site-main">


<div id="main-content" class="main-content">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">
			<div id="googleads" class="site-content" style="margin-left:125px;">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  
  <ins class="adsbygoogle"
       style="display:inline-block;width:728px;height:90px"
       data-ad-client="ca-pub-3085354840505663"
       data-ad-slot="2904100968"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

			<article class="post type-post status-publish format-standard hentry">

	
	<header class="entry-header">

	


		<div class="entry-meta">
			<span class="cat-links">
                
                <a href="http://www.dpetzel.info//categories/chef/index.html" rel="category">Chef</a>
                
			</span>
		</div>

		<h1 class="entry-title">Speeding Up Test Kitchen</h1>

		
		<div class="entry-meta">
			<span class="entry-date">
				<a href="http://www.dpetzel.info/post/chef/speeding-up-test-kitchen//index.html" rel="bookmark">
					<time class="entry-date" datetime="2015-01-06 00:00:00 &#43;0000 UTC">
						January 6 2015
					</time>
				</a>
			</span>
		</div>
		

	</header>

	<div class="entry-content">
		<p>This past week I was turned on to a tiny, but game changing (for me) gem named
<code>kitchen-sync</code>.</p>

<p>I tend to use test-kitchen in a wide variety of configurations. Sometimes I&rsquo;m
using it to drive Vagrant, most of the time, I&rsquo;m using it drive Docker, but
there are times when I need it to drive remove instances such as EC2. One
of my biggest pain points in this last configuration is the time it takes to
copy of the cookbooks to the remote machine. If you&rsquo;ve got a cookbook that
has many dependencies (either directly or indirectly), this is a painful process.
It is especially aggravating because you&rsquo;re probably only testing a change to
a single file, yet you have to wait for a billion other files that have not
changed to get copied again.</p>

<p>Enter <a href="https://github.com/coderanger/kitchen-sync">kitchen-sync</a>.  Put out
by Noah Kantrowitz (a Chef super star), This little gem saves so much time when
your doing iterative development. The initial creation of the instance still
takes time as all the files have to be copied, however your second run will
have the file copy step take only a second or two. In my case I&rsquo;ve got one
<strong>really nasty</strong> cookbook that has so many dependencies it was taking 10-12
minutes <strong>each converge</strong>. Using kitchen-sync my subsequent runs take only a
couple seconds to copy the file.</p>

<p>If you are doing any Chef development using test-kitchen and remote instances,
this is a <strong>must have</strong>.</p>

	</div>

	<footer class="entry-meta">
		<span class="tag-links">
			
                <a href="http://www.dpetzel.info//tags/testing/index.html" rel="tag">testing</a>
            
                <a href="http://www.dpetzel.info//tags/chef/index.html" rel="tag">chef</a>
            
                <a href="http://www.dpetzel.info//tags/test-kitchen/index.html" rel="tag">test-kitchen</a>
            
		</span>
	</footer>
</article> 

			<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'dpetzel';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


		</div>

	</div>
	<div id="secondary">

	

	<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">

		<script type="text/javascript">
    function site_search(obj) {
    	var host = window.location.host;
        obj.q.value = "site:" + host + " " + obj.ss_q.value;
    }
</script>

<aside id="search-3" class="widget widget_search">
	<form role="search" class="search-form" action="//www.google.com/search" method="get" onSubmit="site_search(this)">

	<input name="q" type="hidden" />
	    <label>
	        <span class="screen-reader-text">Search for:</span>
	        <input name="ss_q" type="text" placeholder="Search ..." class="search-field" />
	    </label>
	    <input type="submit" value="Search" class="search-submit" />
	</form>
</aside>

		<aside id="recent-posts-3" class="widget widget_recent_entries">

	
</aside>

		<aside id="categories-3" class="widget widget_categories">
	
	<h1 class="widget-title">Categories</h1>

	<ul>
		
		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/chef/index.html">Chef</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/hardware/index.html">Hardware</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/programming/index.html">Programming</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/system-administration/index.html">System-Administration</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/tips/jekyll/index.html">Tips/Jekyll</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/tips/python/index.html">Tips/Python</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/tips/windows/index.html">Tips/Windows</a>
		</li>

		
		
		<li class="cat-item">
			<a href="http://www.dpetzel.info//categories/zenoss/index.html">Zenoss</a>
		</li>

		

	</ul>

</aside>

		<span>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:inline-block;width:120px;height:240px"
     data-ad-client="ca-pub-3085354840505663"
     data-ad-slot="7199542960"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</span>


	</div>

</div>

</div>

		</div>

		<footer id="colophon" class="site-footer" role="contentinfo">

			<div class="site-info">
				<a href="http://gohugo.io">Proudly powered by Hugo</a>
			</div>
		</footer>
	</div>

	<script type='text/javascript' src='http://www.dpetzel.info//js/functions.js'></script>
</body>
</html>
